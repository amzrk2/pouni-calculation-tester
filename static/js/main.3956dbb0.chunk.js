(this["webpackJsonppouni-calculation-tester"]=this["webpackJsonppouni-calculation-tester"]||[]).push([[0],{223:function(e,t,n){},226:function(e,t,n){},295:function(e,t,n){},338:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);n(211);var s=n(20),c=n.n(s),a=n(5),r=n(0),i=n(23),u=n.n(i),o=n(70),l=n(27),j=n(46),d=(n(222),n(223),n(209)),h=(n(143),n(86)),b=n.n(h),x=(n(81),n(62)),O=n.n(x),p=n.p+"static/media/HomeChecked.65863f2e.svg",f=(n(226),n(227),n(201)),m=n.n(f),v=n(513),g=n(514);var N=function(e){return Object(a.jsxs)("div",{className:"footer",children:[e.divider&&Object(a.jsx)(m.a,{}),Object(a.jsxs)("div",{className:"footer-content",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{}),Object(a.jsx)("span",{children:"\xa0Copyright 2020 DSRKafuU | Apache-2.0 License"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{}),Object(a.jsx)("span",{children:"\xa0NJUPTB18030620 | 2020.10.26"})]})]})]})};var y=function(){return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsxs)("div",{className:"home-title",children:[Object(a.jsx)("img",{src:p,className:"home-title-logo",alt:"Title Logo"}),Object(a.jsx)("h1",{className:"home-title-name",children:"\u56db\u5219\u8fd0\u7b97\u81ea\u6d4b\u7cfb\u7edf"}),Object(a.jsx)("div",{className:"home-title-btns",children:Object(a.jsxs)(b.a,{size:"large",children:[Object(a.jsx)(o.b,{to:"/app/start",component:O.a,type:"primary",size:"large",children:"\u5f00\u59cb"}),Object(a.jsx)(o.b,{to:"/app/about",component:O.a,size:"large",children:"\u5173\u4e8e"})]})})]}),Object(a.jsx)(N,{divider:!1})]})},k=(n(289),n(87)),S=n.n(k),_=n(517),E=n(518),T=n(519),C=n(520),Q=(n(292),n(205)),w=n.n(Q),B=(n(294),n(107)),A=n.n(B),I=(n(295),n(296),n(204)),q=n.n(I),R=(n(298),n(203)),D=n.n(R),J=n(2),U="UPDATE_QUESTION_TYPES",K="UPDATE_QUESTION_SETTINGSS",L=function(e){return{type:K,value:e}};var P=function(e){var t=Object(j.b)(),n=e.typeText,s=e.typeKey,c=Object(j.c)((function(e){return e.getIn(["start","questionTypes",s])})),r=function(e){if(!isNaN(e))return t(function(e){return{type:U,value:e}}(Object(J.a)({},s,e)))};return Object(a.jsxs)("div",{className:"question-types-item",children:[Object(a.jsx)("span",{children:n}),Object(a.jsx)(D.a,{min:0,max:10,value:c,onChange:r}),Object(a.jsx)(q.a,{min:0,max:10,value:c,onChange:r})]})},F=(n(162),n(71)),G=n.n(F),M=(n(312),n(106)),z=n.n(M),X=(n(119),n(43)),H=n.n(X);var V=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.getIn(["start","questionSettings"]).toJS()})),n="custom"===t.hhc,s=function(t,n){return e(L(Object(J.a)({},n,t)))};return Object(a.jsxs)("div",{className:"question-settings",children:[Object(a.jsx)("h3",{children:"\u96be\u5ea6\u4e0e\u7ec6\u8282\u8bbe\u7f6e"}),Object(a.jsxs)("div",{className:"question-settings-item",children:[Object(a.jsx)("span",{children:"\u96be\u5ea6"}),Object(a.jsxs)(H.a.Group,{value:"hdc-".concat(t.hhc),onChange:function(t){return e(L({hhc:t.target.value.split("-")[1]}))},buttonStyle:"solid",children:[Object(a.jsx)(H.a.Button,{value:"hdc-easy",children:"\u7b80\u5355"}),Object(a.jsx)(H.a.Button,{value:"hdc-hard",children:"\u56f0\u96be"}),Object(a.jsx)(H.a.Button,{value:"hdc-custom",children:"\u81ea\u5b9a\u4e49"})]})]}),Object(a.jsxs)("div",{className:"question-settings-item",children:[Object(a.jsx)("span",{children:"\u6570\u503c\u8303\u56f4\u300c\u7edd\u5bf9\u503c\u300d"}),Object(a.jsxs)(H.a.Group,{value:"range-".concat(t.range),onChange:function(t){return e(L({range:+t.target.value.split("-")[1]}))},disabled:!n,buttonStyle:"solid",children:[Object(a.jsx)(H.a.Button,{value:"range-10",children:"10"}),Object(a.jsx)(H.a.Button,{value:"range-100",children:"100"}),Object(a.jsx)(H.a.Button,{value:"range-1000",children:"1000"})]}),Object(a.jsx)("span",{children:"\u4ee5\u5185"})]}),Object(a.jsxs)("div",{className:"question-settings-item",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"\u8d1f\u6570"}),Object(a.jsx)(z.a,{checked:t.minus,disabled:!n,onChange:function(e){return s(e,"minus")},checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"\u62ec\u53f7"}),Object(a.jsx)(z.a,{checked:t.bracket,disabled:!n,onChange:function(e){return s(e,"bracket")},checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})]})]}),Object(a.jsxs)("div",{className:"question-settings-item",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"\u5c0f\u6570"}),Object(a.jsx)(z.a,{checked:t.dot,disabled:!n,onChange:function(e){return s(e,"dot")},checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"\u5c0f\u6570\u4f4d\u6570"}),Object(a.jsxs)(G.a,{disabled:!n,value:"dot-".concat(t.dotRange),onChange:function(t){return e(L({dotRange:+t.split("-")[1]}))},children:[Object(a.jsx)(G.a.Option,{value:"dot-1",children:"1"}),Object(a.jsx)(G.a.Option,{value:"dot-2",children:"2"}),Object(a.jsx)(G.a.Option,{value:"dot-3",children:"3"})]})]})]})]})},Y=n(515),W=n(516);var Z=function(){return Object(a.jsxs)("div",{className:"question-ctrl",children:[Object(a.jsx)("h3",{className:"question-ctrl-func",children:"\u5168\u5c40\u529f\u80fd"}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{icon:Object(a.jsx)(Y.a,{}),children:"\u6e05\u9664\u7f13\u5b58"}),Object(a.jsx)(O.a,{icon:Object(a.jsx)(W.a,{}),href:"https://github.com/amzrk2/pouni-calculation-tester",target:"_blank",children:"GitHub"})]}),Object(a.jsx)("h3",{className:"question-ctrl-notice",children:"\u63d0\u793a"}),Object(a.jsx)("h4",{children:"\u5c0f\u6570\u5f00\u542f"}),Object(a.jsx)("span",{children:"\u7b54\u6848\u8bf7\u5316\u4e3a\u4e0e\u8bbe\u7f6e\u7684\u4f4d\u6570\u76f8\u540c\u7684\u7cbe\u5ea6"}),Object(a.jsx)("h4",{children:"\u8d1f\u6570\u548c\u5c0f\u6570\u5173\u95ed"}),Object(a.jsx)("span",{children:"\u7b54\u6848\u4e5f\u5c06\u4e0d\u4f1a\u51fa\u73b0\u8d1f\u6570\u548c\u5c0f\u6570"})]})};var $=function(){return Object(a.jsx)("div",{className:"start",children:Object(a.jsxs)(w.a,{gutter:[0,32],children:[Object(a.jsx)(A.a,{xs:24,md:8,children:Object(a.jsxs)("div",{className:"question-types",children:[Object(a.jsx)("h3",{children:"\u7c7b\u578b\u4e0e\u6570\u91cf\u8c03\u6574"}),Object(a.jsx)(P,{typeText:"\u586b\u7a7a\u9898",typeKey:"fillBlank"}),Object(a.jsx)(P,{typeText:"\u5224\u65ad\u9898",typeKey:"judge"}),Object(a.jsx)(P,{typeText:"\u9009\u62e9\u9898",typeKey:"select"})]})}),Object(a.jsx)(A.a,{xs:24,md:8,children:Object(a.jsx)(V,{})}),Object(a.jsx)(A.a,{xs:24,md:8,children:Object(a.jsx)(Z,{})})]})})},ee=(n(326),n(207)),te=n.n(ee),ne=(n(328),n(59)),se=n.n(ne),ce=n(38),ae=n.n(ce),re=n(64),ie=(n(338),n(1)),ue=n(9),oe=n(12),le=n(512),je={hhc:"easy",range:10,minus:!1,bracket:!1,dot:!1,dotRange:1};function de(e,t){var n=t-e,s=Math.random();return e+Math.round(s*n)}var he=function(e,t,n,s){for(var c=[],a=0;a<t;a++)c.push(e.shift());c=function(e){return e.map((function(e,t){return{index:t,exp:e.exp,ans:e.ans,userAns:"",status:null}}))}(c);for(var r=[],i=t;i<t+n;i++)r.push(e.shift());r=function(e){return e.map((function(e,t){var n={index:t,userAns:null,status:null};return 1===de(0,1)?(n.exp="".concat(e.exp," = ").concat(e.ans),n.ans=!0):(n.exp="".concat(e.exp," = ").concat(e.ans+de(1,50)),n.ans=!1),n}))}(r);for(var u=[],o=t+n;o<t+n+s;o++)u.push(e.shift());return{fillBlankQuestions:c,judgeQuestions:r,selectQuestions:u=function(e){return e.map((function(e,t){var n={index:t,exp:e.exp,userAns:null,status:null},s=de(0,2),c=[e.ans+de(1,50),e.ans+de(1,50),e.ans+de(1,50)];return c[s]=e.ans,n.selections=c,n.ans=s,n}))}(u)}},be="UPDATE_ALL_QUESTIONS",xe=function(e){return{type:be,value:e}},Oe="UPDATE_FILL_BLANK_QUESTIONS",pe="UPDATE_JUDGE_QUESTIONS",fe="UPDATE_SELECT_QUESTIONS",me=new(function(){function e(){Object(ue.a)(this,e),this._updateSettings(je)}return Object(oe.a)(e,[{key:"_updateSettings",value:function(e){this.hhc=e.hhc,this.range=e.range,this.minus=e.minus,this.bracket=e.bracket,this.dot=e.dot,this.dotRange=e.dotRange}},{key:"_getRandomNumber",value:function(e,t){var n=t-e,s=Math.random();return e+Math.round(s*n)}},{key:"_genExpression",value:function(){for(var e=this,t=[],n=this._getRandomNumber(2,5),s=0;s<n;s++)t.push(this._getRandomNumber(0,this.range));this.dot&&(t=t.map((function(t){for(var n="",s=0;s<e.dotRange;s++)n=n.concat(e._getRandomNumber(0,9));return"".concat(t,".").concat(n)}))),this.minus&&(t=t.map((function(e){return Math.random()-.5>0?e:"(-".concat(e,")")})));for(var c=[],a=0;a<n-1;a++)c.push([" + "," - "," * "," / "][this._getRandomNumber(0,3)]);for(var r=[],i=0;i<2*n-1;i++)i%2===0?r.push(t.shift()):r.push(c.shift());return r.join("")}},{key:"_insertBracket",value:function(e){for(var t,n,s=Math.random()-.5,c=Math.random()-.5,a=e.split(" "),r=0;r<a.length;r++)if(["+","-","*","/"].includes(a[r])){t=r;break}if(s>0)for(var i=t;i<a.length;i++)if(["+","-","*","/"].includes(a[i])){t=i;break}for(var u=a.length-1;u>=0;u--)if(["+","-","*","/"].includes(a[u])){n=u;break}if(c>0)for(var o=n;o>=0;o--)if(["+","-","*","/"].includes(a[o])){n=o;break}return n-t!==4&&n-1>t+1?(a.splice(t+1,0,"("),a.splice(n-1,0,")"),a.join(" ")):e}},{key:"getExpressions",value:function(e,t){var n=this;return new Promise((function(s,c){try{if(t){var a=Object(ie.a)(Object(ie.a)({},je),t);n._updateSettings(a)}for(var r=[],i=0;i<e;i++){var u=n._genExpression();n.bracket&&(u=n._insertBracket(u));var o=Object(le.a)(u),l=void 0;switch(!0){case!n.minus&&!n.dot:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&e%1===0&&e>=0};break;case!n.minus&&n.dot:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&e>=0};break;case n.minus&&!n.dot:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&e%1===0};break;default:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)}}for(;!l(o);)u=n._genExpression(),n.bracket&&(u=n._insertBracket(u)),o=Object(le.a)(u);n.dot&&(o=Number.parseFloat(o.toFixed(n.dotRange))),r.push({exp:u,ans:o})}s(r)}catch(j){c(j)}}))}}]),e}());var ve=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.getIn(["start","questionTypes"]).toJS()})),n=t.fillBlank,s=t.judge,c=t.select,i=Object(j.c)((function(e){return e.getIn(["start","questionSettings"]).toJS()})),u=Object(j.c)((function(e){return e.get("test").toJS()})),o=u.fillBlankQuestions,l=u.judgeQuestions,d=u.selectQuestions,h=!(o.length>0||l.length>0||d.length>0);return Object(r.useEffect)((function(){console.log(h),h&&Object(re.a)(ae.a.mark((function t(){var a,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me.getExpressions(n+s+c,i);case 2:a=t.sent,r=he(a,n,s,c),e(xe(r));case 5:case"end":return t.stop()}}),t)})))()}),[e,n,s,i,h,c]),Object(a.jsxs)("div",{className:"test",children:[Object(a.jsx)("button",{onClick:function(){return e(xe({fillBlankQuestions:[],judgeQuestions:[],selectQuestions:[]}))},children:"\u6d4b\u8bd5"}),Object(a.jsxs)(se.a,{dataSource:o,rowKey:function(e){return e.index},children:[Object(a.jsx)(se.a.Column,{title:"\u9898\u76ee",dataIndex:"exp"},"exp"),Object(a.jsx)(se.a.Column,{title:"\u586b\u7a7a",render:function(t){return Object(a.jsx)(te.a,{value:t.userAns,onChange:function(n){var s=n.target.value;e(function(e){return{type:Oe,value:e}}({index:t.index,answer:s}))}})}},"userAns")]}),Object(a.jsxs)(se.a,{dataSource:l,rowKey:function(e){return e.index},children:[Object(a.jsx)(se.a.Column,{title:"\u9898\u76ee",dataIndex:"exp"},"exp"),Object(a.jsx)(se.a.Column,{title:"\u5224\u65ad",render:function(t){return Object(a.jsx)(H.a.Group,{optionType:"button",options:[{label:"\u6b63\u786e",value:!0},{label:"\u9519\u8bef",value:!1}],value:t.userAns,onChange:function(n){var s=n.target.value;e(function(e){return{type:pe,value:e}}({index:t.index,answer:s}))}})}},"userAns")]}),Object(a.jsxs)(se.a,{dataSource:d,rowKey:function(e){return e.index},children:[Object(a.jsx)(se.a.Column,{title:"\u9898\u76ee",dataIndex:"exp"},"exp"),Object(a.jsx)(se.a.Column,{title:"\u9009\u62e9",render:function(t){return Object(a.jsx)(H.a.Group,{options:[{label:t.selections[0],value:0},{label:t.selections[1],value:1},{label:t.selections[2],value:2}],value:t.userAns,onChange:function(n){var s=n.target.value;e(function(e){return{type:fe,value:e}}({index:t.index,answer:s}))}})}},"userAns")]})]})},ge=Object(l.h)((function(e){var t=e.history,n=Object(l.g)(),s=[{key:"start",icon:Object(a.jsx)(_.a,{}),text:"\u5f00\u59cb"},{key:"test",icon:Object(a.jsx)(E.a,{}),text:"\u6d4b\u8bd5"},{key:"history",icon:Object(a.jsx)(T.a,{}),text:"\u5386\u53f2\u8bb0\u5f55"},{key:"about",icon:Object(a.jsx)(C.a,{}),text:"\u5173\u4e8e"}];return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(S.a,{className:"app-nav",mode:"horizontal",selectedKeys:[t.location.pathname],children:s.map((function(e){return Object(a.jsx)(S.a.Item,{children:Object(a.jsxs)(o.b,{to:"".concat(n.url,"/").concat(e.key),children:[e.icon,Object(a.jsx)("span",{children:e.text})]})},"".concat(n.url,"/").concat(e.key))}))}),Object(a.jsx)("div",{className:"app-content",children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"".concat(n.path,"/start"),component:$}),Object(a.jsx)(l.b,{path:"".concat(n.path,"/test"),component:ve}),Object(a.jsx)(l.b,{path:"".concat(n.path,"/history"),children:"\u5386\u53f2\u8bb0\u5f55"}),Object(a.jsx)(l.b,{path:"".concat(n.path,"/about"),children:"\u5173\u4e8e"}),Object(a.jsx)(l.a,{to:"/"})]})}),Object(a.jsx)(N,{divider:!0})]})})),Ne=n(99),ye=n(208),ke=n(45),Se=Object(ke.fromJS)({hhc:"easy",range:10,minus:!1,bracket:!1,dot:!1,dotRange:1}),_e=Object(ke.fromJS)({hhc:"hard",range:100,minus:!0,bracket:!0,dot:!0,dotRange:2}),Ee=Object(ke.fromJS)({questionTypes:{fillBlank:5,judge:5,select:5},questionSettings:Se}),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return e.mergeDeep(Object(ke.fromJS)({questionTypes:t.value}));case K:return"easy"===t.value.hhc?e.mergeDeep(Object(ke.fromJS)({questionSettings:Se})):"hard"===t.value.hhc?e.mergeDeep(Object(ke.fromJS)({questionSettings:_e})):e.mergeDeep(Object(ke.fromJS)({questionSettings:t.value}));default:return e}},Ce=Object(ke.fromJS)({fillBlankQuestions:[],judgeQuestions:[],selectQuestions:[]}),Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Ce.mergeDeep(Object(ke.fromJS)(t.value));case Oe:var n=t.value,s=n.index,c=n.answer,a=e.get("fillBlankQuestions"),r=a.set(s,a.get(s).set("userAns",c));return e.set("fillBlankQuestions",r);case pe:var i=t.value,u=i.index,o=i.answer,l=e.get("judgeQuestions"),j=l.set(u,l.get(u).set("userAns",o));return e.set("judgeQuestions",j);case fe:var d=t.value,h=d.index,b=d.answer,x=e.get("selectQuestions"),O=x.set(h,x.get(h).set("userAns",b));return e.set("selectQuestions",O);default:return e}},we=Object(ye.combineReducers)({start:Te,test:Qe}),Be=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Ae=Object(Ne.b)(we,Be);u.a.render(Object(a.jsx)(j.a,{store:Ae,children:Object(a.jsx)(c.a,{autoInsertSpaceInButton:!1,locale:d.a,children:Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/app",component:ge}),Object(a.jsx)(l.b,{path:"/",component:y})]})})})}),document.getElementById("root"))}},[[504,1,2]]]);
//# sourceMappingURL=main.3956dbb0.chunk.js.map