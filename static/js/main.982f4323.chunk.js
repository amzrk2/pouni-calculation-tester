(this["webpackJsonppouni-calculation-tester"]=this["webpackJsonppouni-calculation-tester"]||[]).push([[0],{236:function(e,t,n){},247:function(e,t,n){},314:function(e,t,n){},352:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},527:function(e,t,n){"use strict";n.r(t);n(229);var s=n(21),c=n.n(s),r=n(0),a=n(23),i=n.n(a),o=n(51),u=n(32),l=(n(235),n(236),n(227)),j=n(26),d=n(217),h=n(216),b=n(31),O="UPDATE_QUESTION_TYPES",x="UPDATE_QUESTION_SETTINGSS",p=function(e){return{type:x,value:e}},f="CLEAN_SETTINGS_CACHE",m=n(85),v=n(86),g="pouni-calculation-tester-settings",y="pouni-calculation-tester-history",S=function(){function e(){Object(m.a)(this,e)}return Object(v.a)(e,[{key:"save",value:function(e,t){var n;try{return n=JSON.stringify(t),"settings"===e&&localStorage.setItem(g,n),"history"===e&&localStorage.setItem(y,n),!0}catch(s){return console.error(s),!1}}},{key:"load",value:function(e){var t;try{"settings"===e&&(t=JSON.parse(localStorage.getItem(g))),"history"===e&&(t=JSON.parse(localStorage.getItem(y)))}catch(n){return console.error(n),null}return t}}]),e}(),N=new S,k=Object(b.fromJS)({hhc:"easy",range:10,minus:!1,bracket:!1,dot:!1,dotRange:1}),I=Object(b.fromJS)({hhc:"hard",range:100,minus:!0,bracket:!0,dot:!0,dotRange:2}),E=Object(b.fromJS)({questionTypes:{fillBlank:2,judge:4,select:3},questionSettings:k}),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=e.mergeDeep(Object(b.fromJS)({questionTypes:t.value})),s=n.toJS().questionTypes,c=s.fillBlank,r=s.judge,a=s.select;return 0===c&&0===r&&0===a?e:(N.save("settings",n.toJS()),n);case x:var i;return i="easy"===t.value.hhc?e.mergeDeep(Object(b.fromJS)({questionSettings:k})):"hard"===t.value.hhc?e.mergeDeep(Object(b.fromJS)({questionSettings:I})):e.mergeDeep(Object(b.fromJS)({questionSettings:t.value})),N.save("settings",i.toJS()),i;case f:return N.save("settings",null),E;default:var o=N.load("settings");return o?e.mergeDeep(Object(b.fromJS)(o)):e}},T="UPDATE_ALL_QUESTIONS",w=function(e){return{type:T,value:e}},_="UPDATE_FILL_BLANK_QUESTIONS",J="UPDATE_JUDGE_QUESTIONS",Q="UPDATE_SELECT_QUESTIONS",q="SAVE_ALL_QUESTIONS",D="REMOVE_HISTORY",R=function(e){return{type:D,value:e}},A="LOAD_HISTORY",B="CLEAN_HISTORY_CACHE",L=n(87),M=new S,U=Object(b.fromJS)({fillBlankQuestions:[],judgeQuestions:[],selectQuestions:[],history:[]}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.value?e.set("fillBlankQuestions",Object(b.fromJS)(t.value.fillBlankQuestions)).set("judgeQuestions",Object(b.fromJS)(t.value.judgeQuestions)).set("selectQuestions",Object(b.fromJS)(t.value.selectQuestions)):e.set("fillBlankQuestions",Object(b.fromJS)([])).set("judgeQuestions",Object(b.fromJS)([])).set("selectQuestions",Object(b.fromJS)([]));case _:var n=t.value,s=n.index,c=n.answer,r=e.get("fillBlankQuestions"),a=r.set(s,r.get(s).set("userAns",c));return e.set("fillBlankQuestions",a);case J:var i=t.value,o=i.index,u=i.answer,l=e.get("judgeQuestions"),j=l.set(o,l.get(o).set("userAns",u));return e.set("judgeQuestions",j);case Q:var d=t.value,h=d.index,O=d.answer,x=e.get("selectQuestions"),p=x.set(h,x.get(h).set("userAns",O));return e.set("selectQuestions",p);case q:var f=e.get("history"),m=0;f.toJS().length>0?f.forEach((function(e){e.get("historyID")>m&&(m=e.get("historyID"))})):m=-1;var v={historyID:m+1,historyQuestions:{fillBlankQuestions:e.get("fillBlankQuestions").toJS(),judgeQuestions:e.get("judgeQuestions").toJS(),selectQuestions:e.get("selectQuestions").toJS()},date:L().toJSON(),correctRate:""},g=0,y=0;Object.keys(v.historyQuestions).forEach((function(e){v.historyQuestions[e].forEach((function(e){g++,e.status=e.ans===e.userAns,e.status&&y++}))})),v.correctRate=(y/g*100).toFixed(0)+"%";var S=f.push(Object(b.fromJS)(v));return M.save("history",S.toJS()),e.set("history",S);case D:var N=e.get("history").toJS(),k=-1;if(N.forEach((function(e,n){t.value===e.historyID&&(k=n)})),k>=0){N.splice(k,1);var I=Object(b.fromJS)(N);return M.save("history",I.toJS()),e.set("history",I)}return e;case A:var E=Object(b.fromJS)(t.value);return M.save("history",E.toJS()),e.set("history",E);case B:return M.save("history",null),U;default:var C=e,w=M.load("history");return w?C.set("history",Object(b.fromJS)(w)):C}},F=Object(h.combineReducers)({start:C,test:z}),K=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),P=Object(d.a)(F,K),H=(n(124),n(75)),G=n.n(H),Y=(n(64),n(33)),V=n.n(Y),X=n.p+"static/media/HomeChecked.65863f2e.svg",W=(n(247),n(248),n(219)),Z=n.n(W),$=n(536),ee=n(537),te=n(2);var ne=function(e){return Object(te.jsxs)("div",{className:"footer",children:[e.divider&&Object(te.jsx)(Z.a,{}),Object(te.jsxs)("div",{className:"footer-content",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)($.a,{}),Object(te.jsx)("span",{children:"\xa0Copyright 2020 DSRKafuU | Apache-2.0 License"})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)(ee.a,{}),Object(te.jsx)("span",{children:"\xa0NJUPT B18030620"})]})]})]})};var se=function(){return Object(te.jsxs)("div",{className:"home",children:[Object(te.jsxs)("div",{className:"home-title",children:[Object(te.jsx)("img",{src:X,className:"home-title-logo",alt:"Title Logo"}),Object(te.jsx)("h1",{className:"home-title-name",children:"\u56db\u5219\u8fd0\u7b97\u81ea\u6d4b\u7cfb\u7edf"}),Object(te.jsx)("div",{className:"home-title-btns",children:Object(te.jsxs)(G.a,{size:"large",children:[Object(te.jsx)(o.b,{to:"/app/start",component:V.a,type:"primary",size:"large",children:"\u5f00\u59cb"}),Object(te.jsx)(o.b,{to:"/app/about",component:V.a,size:"large",children:"\u5173\u4e8e"})]})})]}),Object(te.jsx)(ne,{divider:!1})]})},ce=(n(308),n(96)),re=n.n(ce),ae=n(551),ie=n(552),oe=n(553),ue=n(554),le=(n(311),n(223)),je=n.n(le),de=(n(313),n(121)),he=n.n(de),be=(n(314),n(315),n(222)),Oe=n.n(be),xe=(n(317),n(221)),pe=n.n(xe),fe=n(89);var me=function(e){var t=Object(j.b)(),n=e.typeText,s=e.typeKey,c=Object(j.c)((function(e){return e.getIn(["start","questionTypes",s])})),r=function(e){if(!isNaN(e))return t(function(e){return{type:O,value:e}}(Object(fe.a)({},s,e)))};return Object(te.jsxs)("div",{className:"question-types-item",children:[Object(te.jsx)("span",{children:n}),Object(te.jsx)(pe.a,{min:0,max:10,value:c,onChange:r}),Object(te.jsx)(Oe.a,{min:0,max:10,value:c,onChange:r})]})},ve=(n(178),n(76)),ge=n.n(ve),ye=(n(331),n(120)),Se=n.n(ye),Ne=(n(131),n(46)),ke=n.n(Ne);var Ie=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.getIn(["start","questionSettings"]).toJS()})),n="custom"===t.hhc,s=function(t,n){return e(p(Object(fe.a)({},n,t)))};return Object(te.jsxs)("div",{className:"question-settings",children:[Object(te.jsx)("h3",{children:"\u96be\u5ea6\u4e0e\u7ec6\u8282\u8bbe\u7f6e"}),Object(te.jsxs)("div",{className:"question-settings-item",children:[Object(te.jsx)("span",{children:"\u96be\u5ea6"}),Object(te.jsxs)(ke.a.Group,{value:"hdc-".concat(t.hhc),onChange:function(t){return e(p({hhc:t.target.value.split("-")[1]}))},buttonStyle:"solid",children:[Object(te.jsx)(ke.a.Button,{value:"hdc-easy",children:"\u7b80\u5355"}),Object(te.jsx)(ke.a.Button,{value:"hdc-hard",children:"\u56f0\u96be"}),Object(te.jsx)(ke.a.Button,{value:"hdc-custom",children:"\u81ea\u5b9a\u4e49"})]})]}),Object(te.jsxs)("div",{className:"question-settings-item",children:[Object(te.jsx)("span",{children:"\u6570\u503c\u8303\u56f4\u300c\u7edd\u5bf9\u503c\u300d"}),Object(te.jsxs)(ke.a.Group,{value:"range-".concat(t.range),onChange:function(t){return e(p({range:+t.target.value.split("-")[1]}))},disabled:!n,buttonStyle:"solid",children:[Object(te.jsx)(ke.a.Button,{value:"range-10",children:"10"}),Object(te.jsx)(ke.a.Button,{value:"range-100",children:"100"}),Object(te.jsx)(ke.a.Button,{value:"range-1000",children:"1000"})]}),Object(te.jsx)("span",{children:"\u4ee5\u5185"})]}),Object(te.jsxs)("div",{className:"question-settings-item",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:"\u8d1f\u6570"}),Object(te.jsx)(Se.a,{checked:t.minus,disabled:!n,onChange:function(e){return s(e,"minus")},checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:"\u62ec\u53f7"}),Object(te.jsx)(Se.a,{checked:t.bracket,disabled:!n,onChange:function(e){return s(e,"bracket")},checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})]})]}),Object(te.jsxs)("div",{className:"question-settings-item",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:"\u5c0f\u6570"}),Object(te.jsx)(Se.a,{checked:t.dot,disabled:!n,onChange:function(e){return s(e,"dot")},checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:"\u5c0f\u6570\u4f4d\u6570"}),Object(te.jsxs)(ge.a,{disabled:!n,value:"dot-".concat(t.dotRange),onChange:function(t){return e(p({dotRange:+t.split("-")[1]}))},children:[Object(te.jsx)(ge.a.Option,{value:"dot-1",children:"1"}),Object(te.jsx)(ge.a.Option,{value:"dot-2",children:"2"}),Object(te.jsx)(ge.a.Option,{value:"dot-3",children:"3"})]})]})]})]})},Ee=(n(105),n(69)),Ce=n.n(Ee),Te=(n(106),n(56)),we=n.n(Te),_e=n(538),Je=n(539);var Qe=function(){var e=Object(j.b)();return Object(te.jsxs)("div",{className:"question-ctrl",children:[Object(te.jsx)("h3",{className:"question-ctrl-func",children:"\u5168\u5c40\u529f\u80fd"}),Object(te.jsxs)(G.a,{children:[Object(te.jsx)(Ce.a,{placement:"bottom",title:"\u786e\u5b9a\u8981\u6e05\u9664\u6570\u636e\u5417",onConfirm:function(){e({type:f}),e({type:B}),we.a.success("\u5df2\u6e05\u9664\u6570\u636e")},children:Object(te.jsx)(V.a,{icon:Object(te.jsx)(_e.a,{}),children:"\u6e05\u9664\u6570\u636e"})}),Object(te.jsx)(V.a,{icon:Object(te.jsx)(Je.a,{}),href:"https://github.com/amzrk2/pouni-calculation-tester",target:"_blank",children:"GitHub"})]}),Object(te.jsx)("h3",{className:"question-ctrl-notice",children:"\u63d0\u793a"}),Object(te.jsx)("h4",{children:"\u5c0f\u6570\u5f00\u542f"}),Object(te.jsx)("span",{children:"\u7b54\u6848\u8bf7\u5316\u4e3a\u4e0e\u8bbe\u7f6e\u7684\u4f4d\u6570\u76f8\u540c\u7684\u7cbe\u5ea6"}),Object(te.jsx)("h4",{children:"\u8d1f\u6570/\u5c0f\u6570/\u6570\u503c\u8303\u56f4"}),Object(te.jsx)("span",{children:"\u8fd9\u4e9b\u8bbe\u7f6e\u9879\u5bf9\u751f\u6210\u7684\u7b54\u6848\u540c\u6837\u6709\u6548"})]})};var qe=function(){return Object(te.jsx)("div",{className:"start",children:Object(te.jsxs)(je.a,{gutter:[0,32],children:[Object(te.jsx)(he.a,{xs:24,md:8,children:Object(te.jsxs)("div",{className:"question-types",children:[Object(te.jsx)("h3",{children:"\u7c7b\u578b\u4e0e\u6570\u91cf\u8c03\u6574"}),Object(te.jsx)(me,{typeText:"\u586b\u7a7a\u9898",typeKey:"fillBlank"}),Object(te.jsx)(me,{typeText:"\u5224\u65ad\u9898",typeKey:"judge"}),Object(te.jsx)(me,{typeText:"\u9009\u62e9\u9898",typeKey:"select"})]})}),Object(te.jsx)(he.a,{xs:24,md:8,children:Object(te.jsx)(Ie,{})}),Object(te.jsx)(he.a,{xs:24,md:8,children:Object(te.jsx)(Qe,{})})]})})},De=(n(186),n(149)),Re=n.n(De),Ae=n(70),Be=n.n(Ae),Le=n(90),Me=n(226),Ue=(n(352),n(154)),ze=n(535),Fe={hhc:"easy",range:10,minus:!1,bracket:!1,dot:!1,dotRange:1},Ke=function(){function e(){Object(m.a)(this,e),this._updateSettings(Fe)}return Object(v.a)(e,[{key:"_updateSettings",value:function(e){this.hhc=e.hhc,this.range=e.range,this.minus=e.minus,this.bracket=e.bracket,this.dot=e.dot,this.dotRange=e.dotRange}},{key:"_getRandomNumber",value:function(e,t){var n=t-e,s=Math.random();return e+Math.round(s*n)}},{key:"_genExpression",value:function(){for(var e=this,t=[],n=this._getRandomNumber(2,5),s=0;s<n;s++)t.push(this._getRandomNumber(0,this.range));this.dot&&(t=t.map((function(t){for(var n="",s=0;s<e.dotRange;s++)n=n.concat(e._getRandomNumber(0,9));return"".concat(t,".").concat(n)}))),this.minus&&(t=t.map((function(e){return Math.random()-.5>0?e:"(-".concat(e,")")})));for(var c=[],r=0;r<n-1;r++)c.push([" + "," - "," * "," / "][this._getRandomNumber(0,3)]);for(var a=[],i=0;i<2*n-1;i++)i%2===0?a.push(t.shift()):a.push(c.shift());return a.join("")}},{key:"_insertBracket",value:function(e){for(var t,n,s=Math.random()-.5,c=Math.random()-.5,r=e.split(" "),a=0;a<r.length;a++)if(["+","-","*","/"].includes(r[a])){t=a;break}if(s>0)for(var i=t;i<r.length;i++)if(["+","-","*","/"].includes(r[i])){t=i;break}for(var o=r.length-1;o>=0;o--)if(["+","-","*","/"].includes(r[o])){n=o;break}if(c>0)for(var u=n;u>=0;u--)if(["+","-","*","/"].includes(r[u])){n=u;break}return n-t!==4&&n-1>t+1?(r.splice(t+1,0,"("),r.splice(n-1,0,")"),r.join(" ")):e}},{key:"getExpressions",value:function(e,t){var n=this;return new Promise((function(s,c){try{if(t){var r=Object(Ue.a)(Object(Ue.a)({},Fe),t);n._updateSettings(r)}for(var a=[],i=0;i<e;i++){var o=n._genExpression();n.bracket&&(o=n._insertBracket(o));var u=Object(ze.a)(o),l=void 0;switch(!0){case!n.minus&&!n.dot:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&e%1===0&&e>=0&&Math.abs(Math.round(e))<t.range};break;case!n.minus&&n.dot:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&e>=0&&Math.abs(Math.round(e))<t.range};break;case n.minus&&!n.dot:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&e%1===0&&Math.abs(Math.round(e))<t.range};break;default:l=function(e){return Number.isFinite(e)&&!Number.isNaN(e)&&Math.abs(Math.round(e))<t.range}}for(;!l(u);)o=n._genExpression(),n.bracket&&(o=n._insertBracket(o)),u=Object(ze.a)(o);u=n.dot?u.toFixed(n.dotRange):u.toString(),a.push({exp:o,ans:u})}s(a)}catch(j){c(j)}}))}}]),e}();function Pe(e,t){var n=t-e,s=Math.random();return e+Math.round(s*n)}var He=function(e,t,n,s,c){for(var r=[],a=0;a<t;a++)r.push(e.shift());r=function(e){return e.map((function(e,t){return{index:t,exp:e.exp,ans:e.ans,userAns:"",status:null}}))}(r);for(var i=[],o=t;o<t+n;o++)i.push(e.shift());i=function(e,t){return e.map((function(e,n){var s={index:n,userAns:null,status:null};return 1===Pe(0,1)?(s.exp="".concat(e.exp," = ").concat(e.ans),s.ans=!0):(s.exp="".concat(e.exp," = ").concat((Number(e.ans)+Pe(1,50)).toFixed(t)),s.ans=!1),s}))}(i,c.dot?c.dotRange:0);for(var u=[],l=t+n;l<t+n+s;l++)u.push(e.shift());return{fillBlankQuestions:r,judgeQuestions:i,selectQuestions:u=function(e,t){return e.map((function(e,n){var s={index:n,exp:e.exp,userAns:null,status:null},c=Pe(0,2),r=[(Number(e.ans)+Pe(1,50)).toFixed(t),(Number(e.ans)+Pe(1,50)).toFixed(t),(Number(e.ans)+Pe(1,50)).toFixed(t)];return r[c]=e.ans,s.selections=r,s.ans=c,s}))}(u,c.dot?c.dotRange:0)}},Ge=(n(135),n(40)),Ye=n.n(Ge),Ve=(n(360),n(225)),Xe=n.n(Ve),We=n(540),Ze=n(541);var $e=function(e){var t=Object(j.b)(),n=e.questions,s=e.questionType,c="",r=null;return"fillBlank"===s?(c="\u586b\u7a7a",r=function(e){return Object(te.jsx)(Xe.a,{value:e.userAns,onChange:function(n){var s=n.target.value;t(function(e){return{type:_,value:e}}({index:e.index,answer:s}))}})}):"judge"===s?(c="\u5224\u65ad",r=function(e){return Object(te.jsx)(ke.a.Group,{className:"radio-group-judge",optionType:"button",options:[{label:Object(te.jsx)(We.a,{}),value:!0},{label:Object(te.jsx)(Ze.a,{}),value:!1}],value:e.userAns,onChange:function(n){var s=n.target.value;t(function(e){return{type:J,value:e}}({index:e.index,answer:s}))}})}):(c="\u9009\u62e9",r=function(e){return Object(te.jsx)(ke.a.Group,{options:[{label:e.selections[0],value:0},{label:e.selections[1],value:1},{label:e.selections[2],value:2}],value:e.userAns,onChange:function(n){var s=n.target.value;t(function(e){return{type:Q,value:e}}({index:e.index,answer:s}))}})}),Object(te.jsx)("div",{className:"test-section",children:Object(te.jsxs)(Ye.a,{dataSource:n,rowKey:function(e){return e.index},pagination:!1,size:"middle",tableLayout:"fixed",children:[Object(te.jsx)(Ye.a.Column,{title:"\u9898\u76ee",dataIndex:"exp",align:"right",width:"60%"},"exp"),Object(te.jsx)(Ye.a.Column,{title:c,render:r},"userAns")]})})},et=n(542),tt=n(543);var nt=function(e){var t,n=Object(j.b)(),s=Object(u.g)(),c=e.setLoading,r=Object(j.c)((function(e){return e.getIn(["test","history"]).toJS()}));return t=r[r.length-1]?r[r.length-1].historyID+1:0,Object(te.jsx)("div",{className:"test-ctrl",children:Object(te.jsxs)("div",{className:"crtl-wrapper",children:[Object(te.jsx)(Ce.a,{placement:"bottom",title:"\u786e\u5b9a\u8981\u91cd\u65b0\u751f\u6210\u9898\u76ee\u5417",onConfirm:function(){c(!0),n(w(null)),we.a.success("\u5df2\u91cd\u65b0\u751f\u6210")},children:Object(te.jsx)(V.a,{size:"large",icon:Object(te.jsx)(et.a,{}),danger:!0})}),Object(te.jsx)(Ce.a,{placement:"bottom",title:"\u786e\u5b9a\u8981\u63d0\u4ea4\u7b54\u6848\u5417",onConfirm:function(){n({type:q}),we.a.success("\u63d0\u4ea4\u6210\u529f"),s.push("/app/history/".concat(t))},children:Object(te.jsx)(V.a,{type:"primary",size:"large",icon:Object(te.jsx)(tt.a,{})})})]})})},st=new Ke;var ct=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.getIn(["start","questionTypes"]).toJS()})),n=t.fillBlank,s=t.judge,c=t.select,a=Object(j.c)((function(e){return e.getIn(["start","questionSettings"]).toJS()})),i=Object(j.c)((function(e){return e.get("test").toJS()})),o=i.fillBlankQuestions,u=i.judgeQuestions,l=i.selectQuestions,d=!(o.length>0||u.length>0||l.length>0),h=Object(r.useState)(!0),b=Object(Me.a)(h,2),O=b[0],x=b[1];return Object(r.useEffect)((function(){d?Object(Le.a)(Be.a.mark((function t(){var r,i;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st.getExpressions(n+s+c,a);case 2:r=t.sent,i=He(r,n,s,c,a),setTimeout((function(){e(w(i)),x(!1)}),500);case 5:case"end":return t.stop()}}),t)})))():x(!1)}),[e,n,s,a,d,c]),Object(te.jsxs)("div",{className:"test",children:[Object(te.jsx)(Re.a,{spinning:O,children:Object(te.jsxs)("div",{className:"test-wrapper",children:[o.length>0&&Object(te.jsx)($e,{questions:o,questionType:"fillBlank"}),u.length>0&&Object(te.jsx)($e,{questions:u,questionType:"judge"}),l.length>0&&Object(te.jsx)($e,{questions:l,questionType:"select"})]})}),Object(te.jsx)(nt,{setLoading:x})]})},rt=n(544),at=n(545),it=n(546),ot=n(547),ut=(n(523),new(function(){function e(){Object(m.a)(this,e)}return Object(v.a)(e,[{key:"save",value:function(e){var t;try{t=JSON.stringify(e);var n=new Blob([t]),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download="".concat(L().toJSON().replace(/:/g,"_"),".json"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(c){console.error(c)}}},{key:"load",value:function(){var e=Object(Le.a)(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=document.createElement("input");n.type="file",n.accept="application/json",n.style.display="none",n.addEventListener("change",(function(){if(n.files.length>0){var s=n.files[0];if(s.type.includes("json")){var c=new FileReader;c.onload=function(n){var s=n.target.result;try{var c=JSON.parse(s);e(c)}catch(n){t(n)}},c.readAsText(s)}else t(new Error("wrong file MIME type"))}else t(new Error("no file selected"))})),n.click()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()));var lt=function(){var e=Object(j.b)(),t=Object(u.i)(),n=Object(j.c)((function(e){return e.getIn(["test","history"]).toJS()}));return Object(te.jsxs)("div",{className:"history-index",children:[Object(te.jsx)("div",{className:"history-wrapper",children:Object(te.jsxs)(Ye.a,{dataSource:n,rowKey:function(e){return e.historyID},pagination:!1,size:"small",tableLayout:"fixed",children:[Object(te.jsx)(Ye.a.Column,{title:"ID",dataIndex:"historyID",align:"center",width:"15%"},"historyID"),Object(te.jsx)(Ye.a.Column,{title:"\u65e5\u671f/\u65f6\u95f4",align:"center",render:function(e){return L(e.date).format("YYYY-MM-DD HH:mm")}},"date"),Object(te.jsx)(Ye.a.Column,{title:"\u6b63\u786e\u7387",dataIndex:"correctRate",align:"center",width:"20%"},"correctRate"),Object(te.jsx)(Ye.a.Column,{title:"\u63a7\u5236",align:"center",render:function(n){return Object(te.jsxs)(G.a,{children:[Object(te.jsx)(o.b,{to:"".concat(t.path,"/").concat(n.historyID),component:V.a,type:"primary",icon:Object(te.jsx)(rt.a,{}),children:"\u8be6\u60c5"}),Object(te.jsx)(Ce.a,{placement:"bottom",title:"\u786e\u5b9a\u8981\u5220\u9664\u672c\u6761\u8bb0\u5f55\u5417",onConfirm:function(){e(R(n.historyID)),we.a.success("\u5df2\u5220\u9664\u672c\u6761\u8bb0\u5f55")},children:Object(te.jsx)(V.a,{danger:!0,icon:Object(te.jsx)(at.a,{}),children:"\u5220\u9664"})})]})}},"control")]})}),Object(te.jsx)("div",{className:"history-ctrl",children:Object(te.jsxs)("div",{className:"crtl-wrapper",children:[Object(te.jsx)(V.a,{size:"large",icon:Object(te.jsx)(it.a,{}),onClick:Object(Le.a)(Be.a.mark((function t(){var n;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut.load();case 2:n=t.sent,e({type:A,value:n});case 4:case"end":return t.stop()}}),t)})))}),Object(te.jsx)(V.a,{type:"primary",size:"large",icon:Object(te.jsx)(ot.a,{}),onClick:function(){return ut.save(n)}})]})})]})},jt=(n(524),n(548));var dt=function(e){var t=Object(j.b)(),n=e.historyID,s=Object(u.g)();return Object(te.jsx)("div",{className:"history-ctrl",children:Object(te.jsxs)("div",{className:"crtl-wrapper",children:[Object(te.jsx)(Ce.a,{placement:"bottom",title:"\u786e\u5b9a\u8981\u5220\u9664\u672c\u6761\u8bb0\u5f55\u5417",onConfirm:function(){t(R(n)),s.push("/app/history"),we.a.success("\u5df2\u5220\u9664\u672c\u6761\u8bb0\u5f55")},children:Object(te.jsx)(V.a,{size:"large",icon:Object(te.jsx)(at.a,{}),danger:!0})}),Object(te.jsx)(V.a,{type:"primary",size:"large",icon:Object(te.jsx)(jt.a,{})})]})})},ht=n(549),bt=n(550),Ot=function(e){return null===e||void 0===e?"":!1===e?Object(te.jsx)(Ze.a,{}):Object(te.jsx)(We.a,{})};var xt=function(e){var t=e.questions,n=e.questionType,s="",c=null,r=null;return"fillBlank"===n?(s="\u586b\u7a7a\u9898\u76ee",c="ans",r="userAns"):"judge"===n?(s="\u5224\u65ad\u9898\u76ee",c=function(e){return Ot(e.ans)},r=function(e){return Ot(e.userAns)}):(s="\u9009\u62e9\u9898\u76ee",c=function(e){return e.selections[e.ans]},r=function(e){return e.selections[e.userAns]}),Object(te.jsxs)(Ye.a,{dataSource:t,rowKey:function(e){return e.index},pagination:!1,size:"small",tableLayout:"fixed",children:[Object(te.jsx)(Ye.a.Column,{title:s,dataIndex:"exp",align:"center",width:"50%"},"exp"),Object(te.jsx)(Ye.a.Column,{title:"\u6b63\u786e\u7b54\u6848",align:"center",dataIndex:"string"===typeof c?c:null,render:"function"===typeof c?c:null},"ans"),Object(te.jsx)(Ye.a.Column,{title:"\u4f60\u7684\u7b54\u6848",align:"center",dataIndex:"string"===typeof r?r:null,render:"function"===typeof r?r:null},"userAns"),Object(te.jsx)(Ye.a.Column,{title:"\u72b6\u6001",align:"center",render:function(e){return e.status?Object(te.jsx)(ht.a,{twoToneColor:"#52c41a"}):Object(te.jsx)(bt.a,{twoToneColor:"#ff7875"})},width:"10%"},"status")]})};var pt=function(){var e,t=Object(u.h)().historyID;Object(j.c)((function(e){return e.getIn(["test","history"]).toJS()})).forEach((function(n){n.historyID===+t&&(e=n)}));var n=[],s=[],c=[];return e&&(n=e.historyQuestions.fillBlankQuestions,s=e.historyQuestions.judgeQuestions,c=e.historyQuestions.selectQuestions),Object(te.jsxs)("div",{className:"history",children:[Object(te.jsxs)("div",{className:"history-wrapper",children:[n.length>0&&Object(te.jsx)(xt,{questions:n,questionType:"fillBlank"}),s.length>0&&Object(te.jsx)(xt,{questions:s,questionType:"judge"}),c.length>0&&Object(te.jsx)(xt,{questions:c,questionType:"select"})]}),Object(te.jsx)(dt,{historyID:+t})]})};n(525);var ft=function(){return Object(te.jsxs)("div",{className:"about",children:[Object(te.jsx)("h2",{children:"\u56db\u5219\u8fd0\u7b97\u81ea\u6d4b\u7cfb\u7edf"}),Object(te.jsx)("p",{children:"\u9879\u76ee\u7531 Create React App \u521b\u5efa\u3002"}),Object(te.jsx)("h3",{children:"\u9879\u76ee\u65e5\u7a0b"}),Object(te.jsx)("p",{children:Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:"2020-10-26: \u57fa\u7840\u67b6\u6784/\u4e3b\u9875\u8bbe\u8ba1/\u5b58\u50a8\u67b6\u6784/\u9898\u76ee\u751f\u6210\u8bbe\u7f6e"}),Object(te.jsx)("li",{children:"2020-10-27: \u9898\u76ee\u751f\u6210\u8bbe\u7f6e/\u8def\u7531\u8bbe\u7f6e/\u6d4b\u8bd5\u5185\u5bb9\u9875\u9762/\u8868\u8fbe\u5f0f\u751f\u6210\u5668"}),Object(te.jsx)("li",{children:"2020-10-28: \u7b54\u6848\u68c0\u67e5\u5668/\u5386\u53f2\u9875\u9762\u6837\u5f0f/\u5b58\u50a8\u67b6\u6784\u4fee\u6539"}),Object(te.jsx)("li",{children:"2020-10-29: \u5386\u53f2\u9875\u9762\u529f\u80fd/\u7528\u6237\u4f53\u9a8c\u4f18\u5316/\u9519\u8bef\u4fee\u590d/\u56fe\u6807\u4f18\u5316"})]})}),Object(te.jsx)("h3",{children:"\u5f00\u6e90\u4f9d\u8d56"}),Object(te.jsx)("p",{children:Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:"\u57fa\u7840\u6846\u67b6: React/React Router"}),Object(te.jsx)("li",{children:"\u6570\u636e\u5b58\u50a8: Redux/Immutable.js"}),Object(te.jsx)("li",{children:"\u6837\u5f0f: normalize.css/Ant Design/Sass"}),Object(te.jsx)("li",{children:"\u5176\u4ed6: Math.js/dayjs/craco/cross-env"})]})})]})},mt=Object(u.j)((function(e){var t=e.history,n=Object(u.i)(),s=[{key:"start",icon:Object(te.jsx)(ae.a,{}),text:"\u5f00\u59cb"},{key:"test",icon:Object(te.jsx)(ie.a,{}),text:"\u6d4b\u8bd5"},{key:"history",icon:Object(te.jsx)(oe.a,{}),text:"\u5386\u53f2\u8bb0\u5f55"},{key:"about",icon:Object(te.jsx)(ue.a,{}),text:"\u5173\u4e8e"}];return Object(te.jsxs)("div",{className:"app",children:[Object(te.jsx)(re.a,{className:"app-nav",mode:"horizontal",selectedKeys:[t.location.pathname],children:s.map((function(e){return Object(te.jsx)(re.a.Item,{children:Object(te.jsxs)(o.b,{to:"".concat(n.path,"/").concat(e.key),children:[e.icon,Object(te.jsx)("span",{children:e.text})]})},"".concat(n.path,"/").concat(e.key))}))}),Object(te.jsx)("div",{className:"app-content",children:Object(te.jsxs)(u.d,{children:[Object(te.jsx)(u.b,{path:"".concat(n.path,"/start"),component:qe}),Object(te.jsx)(u.b,{path:"".concat(n.path,"/test"),component:ct}),Object(te.jsx)(u.b,{path:"".concat(n.path,"/history/:historyID"),component:pt}),Object(te.jsx)(u.b,{path:"".concat(n.path,"/history"),component:lt}),Object(te.jsx)(u.b,{path:"".concat(n.path,"/about"),component:ft}),Object(te.jsx)(u.a,{to:"/"})]})}),Object(te.jsx)(ne,{divider:!0})]})}));i.a.render(Object(te.jsx)(j.a,{store:P,children:Object(te.jsx)(c.a,{autoInsertSpaceInButton:!1,locale:l.a,children:Object(te.jsx)(o.a,{children:Object(te.jsxs)(u.d,{children:[Object(te.jsx)(u.b,{path:"/app",component:mt}),Object(te.jsx)(u.b,{exact:!0,path:"/",component:se}),Object(te.jsx)(u.a,{to:"/"})]})})})}),document.getElementById("root"))}},[[527,1,2]]]);
//# sourceMappingURL=main.982f4323.chunk.js.map