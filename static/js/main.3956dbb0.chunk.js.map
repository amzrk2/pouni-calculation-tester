{"version":3,"sources":["assets/svg/HomeChecked.svg","components/Footer/index.js","views/Home/index.js","views/Start/store/actions.js","views/Start/components/QuestionType/index.js","views/Start/components/QuestionSettings/index.js","views/Start/components/QuestionCtrl/index.js","views/Start/index.js","plugins/ExpGen.js","plugins/genQuestions.js","views/Test/store/actions.js","views/Test/index.js","App.js","views/Start/store/reducer.js","views/Test/store/reducer.js","store/reducer.js","store/index.js","index.js"],"names":["Footer","props","className","divider","CopyrightOutlined","AntDesignOutlined","Home","src","HomeChecked","alt","size","to","component","type","UPDATE_QUESTION_TYPES","UPDATE_QUESTION_SETTINGSS","actionQuestionSettings","value","QuestionType","dispatch","useDispatch","typeText","typeKey","number","useSelector","state","getIn","updateQuestionTypes","isNaN","actionQuestionTypes","min","max","onChange","QuestionSettings","settings","toJS","isCustom","hhc","updateSwitch","checked","key","Group","e","target","split","buttonStyle","Button","range","disabled","minus","checkedChildren","unCheckedChildren","bracket","dot","dotRange","Option","QuestionCtrl","icon","RestOutlined","GithubOutlined","href","Start","gutter","xs","md","defaultSettings","_getRandomNumber","rand","Math","random","round","genQuestions","rawExps","fillBlank","judge","select","fillBlankExps","i","push","shift","map","val","index","exp","ans","userAns","status","_genFillBlank","judgeExps","newVal","_genJudge","selectExps","fillBlankQuestions","judgeQuestions","selectQuestions","selections","_genSelect","UPDATE_ALL_QUESTIONS","actionAllQuestions","UPDATE_FILL_BLANK_QUESTIONS","UPDATE_JUDGE_QUESTIONS","UPDATE_SELECT_QUESTIONS","expGen","this","_updateSettings","elementArray","elementNumber","dotNum","concat","calsArray","expression","join","startIndex","endIndex","startRand","endRand","elements","length","includes","splice","Promise","resolve","reject","s","exps","_genExpression","_insertBracket","evaluate","checker","Number","isFinite","parseFloat","toFixed","Test","questionSettings","get","questionsAreEmpty","useEffect","console","log","a","getExpressions","questions","onClick","dataSource","rowKey","record","Column","title","dataIndex","render","actionFillBlankQuestions","answer","optionType","options","label","actionJudgeQuestions","actionSelectQuestions","App","withRouter","history","match","useRouteMatch","menuItems","SettingOutlined","text","FormOutlined","HistoryOutlined","InfoCircleOutlined","mode","selectedKeys","location","pathname","Item","url","path","EASY_SETTINGS","fromJS","HARD_SETTINGS","defaultState","questionTypes","reducer","prevState","action","mergeDeep","oldList","newList","set","combineReducers","start","test","enhancer","window","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","ReactDOM","autoInsertSpaceInButton","locale","zh_CN","document","getElementById"],"mappings":"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","file":"static/js/main.3956dbb0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/HomeChecked.65863f2e.svg\";","import React from 'react';\nimport { Divider } from 'antd';\nimport { CopyrightOutlined, AntDesignOutlined } from '@ant-design/icons';\n\nfunction Footer(props) {\n  return (\n    <div className=\"footer\">\n      {props.divider && <Divider />}\n      <div className=\"footer-content\">\n        <div>\n          <CopyrightOutlined />\n          <span>&nbsp;Copyright 2020 DSRKafuU | Apache-2.0 License</span>\n        </div>\n        <div>\n          <AntDesignOutlined />\n          <span>&nbsp;NJUPTB18030620 | 2020.10.26</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Footer;\n","import { Button, Space } from 'antd';\nimport { Link } from 'react-router-dom';\nimport HomeChecked from '../../assets/svg/HomeChecked.svg';\nimport './index.scss';\n\nimport Footer from '../../components/Footer';\n\n/**\n * home page\n */\nfunction Home() {\n  return (\n    <div className=\"home\">\n      <div className=\"home-title\">\n        <img src={HomeChecked} className=\"home-title-logo\" alt=\"Title Logo\" />\n        <h1 className=\"home-title-name\">四则运算自测系统</h1>\n        <div className=\"home-title-btns\">\n          <Space size=\"large\">\n            <Link to=\"/app/start\" component={Button} type=\"primary\" size=\"large\">\n              开始\n            </Link>\n            <Link to=\"/app/about\" component={Button} size=\"large\">\n              关于\n            </Link>\n          </Space>\n        </div>\n      </div>\n      <Footer divider={false} />\n    </div>\n  );\n}\n\nexport default Home;\n","// update question types\nexport const UPDATE_QUESTION_TYPES = 'UPDATE_QUESTION_TYPES';\nexport const actionQuestionTypes = (value) => ({\n  type: UPDATE_QUESTION_TYPES,\n  value,\n});\n\n// update question settings\nexport const UPDATE_QUESTION_SETTINGSS = 'UPDATE_QUESTION_SETTINGSS';\nexport const actionQuestionSettings = (value) => ({\n  type: UPDATE_QUESTION_SETTINGSS,\n  value,\n});\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n// store\nimport { actionQuestionTypes } from '../../store/actions';\n// antd\nimport { Slider, InputNumber } from 'antd';\n\n/**\n * one question type\n * @param {string} typeText type name\n * @param {string} typeKey type key\n */\nfunction QuestionType(props) {\n  const dispatch = useDispatch();\n  // get data from props\n  const { typeText, typeKey } = props;\n  // get question type numbers\n  const number = useSelector((state) => state.getIn(['start', 'questionTypes', typeKey]));\n  /**\n   * update question types\n   * @param {number} value\n   */\n  const updateQuestionTypes = (value) => {\n    if (isNaN(value)) {\n      return;\n    }\n    // dispatch update\n    return dispatch(actionQuestionTypes({ [typeKey]: value }));\n  };\n\n  return (\n    <div className=\"question-types-item\">\n      <span>{typeText}</span>\n      <Slider min={0} max={10} value={number} onChange={updateQuestionTypes} />\n      <InputNumber min={0} max={10} value={number} onChange={updateQuestionTypes} />\n    </div>\n  );\n}\n\nexport default QuestionType;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n// antd\nimport { Radio, Switch, Select } from 'antd';\n// store\nimport { actionQuestionSettings } from '../../store/actions';\n\nfunction QuestionSettings() {\n  const dispatch = useDispatch();\n  // get settings data\n  const settings = useSelector((state) => state.getIn(['start', 'questionSettings']).toJS());\n  // get custom data\n  const isCustom = settings.hhc === 'custom';\n  /**\n   * update hhc\n   * @param {event} e\n   */\n  const updateHhc = (e) => dispatch(actionQuestionSettings({ hhc: e.target.value.split('-')[1] }));\n  /**\n   * update range, parse string to number\n   * @param {event} e\n   */\n  const updateRange = (e) =>\n    dispatch(actionQuestionSettings({ range: +e.target.value.split('-')[1] }));\n  /**\n   * update switches\n   * @param {boolean} checked\n   * @param {string} key\n   */\n  const updateSwitch = (checked, key) => dispatch(actionQuestionSettings({ [key]: checked }));\n  /**\n   * update dot range\n   * @param {string} value\n   */\n  const updateDotRange = (value) =>\n    dispatch(actionQuestionSettings({ dotRange: +value.split('-')[1] }));\n\n  return (\n    <div className=\"question-settings\">\n      <h3>难度与细节设置</h3>\n      <div className=\"question-settings-item\">\n        <span>难度</span>\n        <Radio.Group value={`hdc-${settings.hhc}`} onChange={updateHhc} buttonStyle=\"solid\">\n          <Radio.Button value=\"hdc-easy\">简单</Radio.Button>\n          <Radio.Button value=\"hdc-hard\">困难</Radio.Button>\n          <Radio.Button value=\"hdc-custom\">自定义</Radio.Button>\n        </Radio.Group>\n      </div>\n      <div className=\"question-settings-item\">\n        <span>数值范围「绝对值」</span>\n        <Radio.Group\n          value={`range-${settings.range}`}\n          onChange={updateRange}\n          disabled={!isCustom}\n          buttonStyle=\"solid\"\n        >\n          <Radio.Button value=\"range-10\">10</Radio.Button>\n          <Radio.Button value=\"range-100\">100</Radio.Button>\n          <Radio.Button value=\"range-1000\">1000</Radio.Button>\n        </Radio.Group>\n        <span>以内</span>\n      </div>\n      <div className=\"question-settings-item\">\n        <div>\n          <span>负数</span>\n          <Switch\n            checked={settings.minus}\n            disabled={!isCustom}\n            onChange={(checked) => updateSwitch(checked, 'minus')}\n            checkedChildren=\"开启\"\n            unCheckedChildren=\"关闭\"\n          />\n        </div>\n        <div>\n          <span>括号</span>\n          <Switch\n            checked={settings.bracket}\n            disabled={!isCustom}\n            onChange={(checked) => updateSwitch(checked, 'bracket')}\n            checkedChildren=\"开启\"\n            unCheckedChildren=\"关闭\"\n          />\n        </div>\n      </div>\n      <div className=\"question-settings-item\">\n        <div>\n          <span>小数</span>\n          <Switch\n            checked={settings.dot}\n            disabled={!isCustom}\n            onChange={(checked) => updateSwitch(checked, 'dot')}\n            checkedChildren=\"开启\"\n            unCheckedChildren=\"关闭\"\n          />\n        </div>\n        <div>\n          <span>小数位数</span>\n          <Select disabled={!isCustom} value={`dot-${settings.dotRange}`} onChange={updateDotRange}>\n            <Select.Option value=\"dot-1\">1</Select.Option>\n            <Select.Option value=\"dot-2\">2</Select.Option>\n            <Select.Option value=\"dot-3\">3</Select.Option>\n          </Select>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default QuestionSettings;\n","import React from 'react';\n// antd\nimport { Button, Space } from 'antd';\nimport { RestOutlined, GithubOutlined } from '@ant-design/icons';\n\nfunction QuestionCtrl() {\n  return (\n    <div className=\"question-ctrl\">\n      <h3 className=\"question-ctrl-func\">全局功能</h3>\n      <Space>\n        <Button icon={<RestOutlined />}>清除缓存</Button>\n        <Button\n          icon={<GithubOutlined />}\n          href=\"https://github.com/amzrk2/pouni-calculation-tester\"\n          target=\"_blank\"\n        >\n          GitHub\n        </Button>\n      </Space>\n      <h3 className=\"question-ctrl-notice\">提示</h3>\n      <h4>小数开启</h4>\n      <span>答案请化为与设置的位数相同的精度</span>\n      <h4>负数和小数关闭</h4>\n      <span>答案也将不会出现负数和小数</span>\n    </div>\n  );\n}\n\nexport default QuestionCtrl;\n","import React from 'react';\n// antd\nimport { Row, Col } from 'antd';\n// css\nimport './index.scss';\n// components\nimport QuestionType from './components/QuestionType';\nimport QuestionSettings from './components/QuestionSettings';\nimport QuestionCtrl from './components/QuestionCtrl';\n\nfunction Start() {\n  return (\n    <div className=\"start\">\n      <Row gutter={[0, 32]}>\n        <Col xs={24} md={8}>\n          <div className=\"question-types\">\n            <h3>类型与数量调整</h3>\n            <QuestionType typeText=\"填空题\" typeKey=\"fillBlank\" />\n            <QuestionType typeText=\"判断题\" typeKey=\"judge\" />\n            <QuestionType typeText=\"选择题\" typeKey=\"select\" />\n          </div>\n        </Col>\n        <Col xs={24} md={8}>\n          <QuestionSettings />\n        </Col>\n        <Col xs={24} md={8}>\n          <QuestionCtrl />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default Start;\n","import { evaluate } from 'mathjs';\n\nconst defaultSettings = {\n  hhc: 'easy',\n  range: 10,\n  minus: false,\n  bracket: false,\n  dot: false,\n  dotRange: 1,\n};\n\nclass ExpGen {\n  /**\n   * @constructor\n   */\n  constructor() {\n    // init settings\n    this._updateSettings(defaultSettings);\n  }\n\n  /**\n   * @private\n   * update generator settings\n   * @param {object} settings\n   */\n  _updateSettings(settings) {\n    this.hhc = settings.hhc;\n    this.range = settings.range;\n    this.minus = settings.minus;\n    this.bracket = settings.bracket;\n    this.dot = settings.dot;\n    this.dotRange = settings.dotRange;\n  }\n\n  /**\n   * @private\n   * get random number\n   * @param {number} min\n   * @param {number} max\n   */\n  _getRandomNumber(min, max) {\n    const range = max - min;\n    const rand = Math.random(); // 0.0-1.0\n    return min + Math.round(rand * range);\n  }\n\n  /**\n   * @private\n   * gen a expression (un processed)\n   */\n  _genExpression() {\n    // gen elements\n    let elementArray = [];\n    // el number\n    const elementNumber = this._getRandomNumber(2, 5);\n    for (let i = 0; i < elementNumber; i++) {\n      elementArray.push(this._getRandomNumber(0, this.range));\n    }\n    // if dot\n    if (this.dot) {\n      elementArray = elementArray.map((val) => {\n        // gen dot number\n        let dotNum = '';\n        for (let i = 0; i < this.dotRange; i++) {\n          dotNum = dotNum.concat(this._getRandomNumber(0, 9));\n        }\n        return `${val}.${dotNum}`;\n      });\n    }\n    // if minus\n    if (this.minus) {\n      elementArray = elementArray.map((val) => {\n        // random minus\n        const rand = Math.random();\n        if (rand - 0.5 > 0) {\n          return val;\n        } else {\n          return `(-${val})`;\n        }\n      });\n    }\n    // cals\n    const calsArray = [];\n    for (let i = 0; i < elementNumber - 1; i++) {\n      calsArray.push([' + ', ' - ', ' * ', ' / '][this._getRandomNumber(0, 3)]);\n    }\n    // gen expression\n    const expression = [];\n    for (let i = 0; i < 2 * elementNumber - 1; i++) {\n      if (i % 2 === 0) {\n        expression.push(elementArray.shift());\n      } else {\n        expression.push(calsArray.shift());\n      }\n    }\n    // return expressiong\n    return expression.join('');\n  }\n\n  /**\n   * insert brackets, element number need to > 3\n   * @param {string} exp\n   */\n  _insertBracket(exp) {\n    const startRand = Math.random() - 0.5;\n    const endRand = Math.random() - 0.5;\n    const elements = exp.split(' ');\n    let startIndex, endIndex;\n    // find first op\n    for (let i = 0; i < elements.length; i++) {\n      if (['+', '-', '*', '/'].includes(elements[i])) {\n        startIndex = i;\n        break;\n      }\n    }\n    // find second op\n    if (startRand > 0) {\n      for (let i = startIndex; i < elements.length; i++) {\n        if (['+', '-', '*', '/'].includes(elements[i])) {\n          startIndex = i;\n          break;\n        }\n      }\n    }\n    // find last first op\n    for (let i = elements.length - 1; i >= 0; i--) {\n      if (['+', '-', '*', '/'].includes(elements[i])) {\n        endIndex = i;\n        break;\n      }\n    }\n    // find last second op\n    if (endRand > 0) {\n      for (let i = endIndex; i >= 0; i--) {\n        if (['+', '-', '*', '/'].includes(elements[i])) {\n          endIndex = i;\n          break;\n        }\n      }\n    }\n    // insert bracket\n    if (endIndex - startIndex !== 4 && endIndex - 1 > startIndex + 1) {\n      elements.splice(startIndex + 1, 0, '(');\n      elements.splice(endIndex - 1, 0, ')');\n      return elements.join(' ');\n    } else {\n      return exp;\n    }\n  }\n\n  /**\n   * @public\n   * generate expressions, returns a promise\n   * @param {number} number\n   * @param {objext} settings\n   */\n  getExpressions(number, settings) {\n    return new Promise((resolve, reject) => {\n      try {\n        // if pssed in settings, update settings\n        if (settings) {\n          const s = { ...defaultSettings, ...settings };\n          this._updateSettings(s);\n        }\n        // gen expressions\n        const exps = [];\n        for (let i = 0; i < number; i++) {\n          let exp = this._genExpression();\n          this.bracket && (exp = this._insertBracket(exp)); // insert bracket\n          let ans = evaluate(exp);\n          // prevent minus and dot\n          let checker;\n          switch (true) {\n            case !this.minus && !this.dot:\n              checker = (ans) =>\n                Number.isFinite(ans) && !Number.isNaN(ans) && ans % 1 === 0 && ans >= 0;\n              break;\n            case !this.minus && this.dot:\n              checker = (ans) => Number.isFinite(ans) && !Number.isNaN(ans) && ans >= 0;\n              break;\n            case this.minus && !this.dot:\n              checker = (ans) => Number.isFinite(ans) && !Number.isNaN(ans) && ans % 1 === 0;\n              break;\n            default:\n              checker = (ans) => Number.isFinite(ans) && !Number.isNaN(ans);\n          }\n          while (!checker(ans)) {\n            exp = this._genExpression();\n            this.bracket && (exp = this._insertBracket(exp)); // insert bracket\n            ans = evaluate(exp);\n          }\n          // if dot, floor to same dot range\n          this.dot && (ans = Number.parseFloat(ans.toFixed(this.dotRange)));\n          // add exp\n          exps.push({ exp, ans });\n        }\n        resolve(exps);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n}\n\nexport default ExpGen;\n","/**\n * @private\n * get random number\n * @param {number} min\n * @param {number} max\n */\nfunction _getRandomNumber(min, max) {\n  const range = max - min;\n  const rand = Math.random(); // 0.0-1.0\n  return min + Math.round(rand * range);\n}\n\n/**\n * generate fill in blank questions\n * @param {array} rawExps\n */\nfunction _genFillBlank(rawExps) {\n  const questions = rawExps.map((val, index) => ({\n    index,\n    exp: val.exp,\n    ans: val.ans,\n    userAns: '',\n    status: null,\n  }));\n  return questions;\n}\n\n/**\n * generate judge questions\n * @param {array} rawExps\n */\nfunction _genJudge(rawExps) {\n  const questions = rawExps.map((val, index) => {\n    const newVal = { index, userAns: null, status: null };\n    const rand = _getRandomNumber(0, 1);\n    if (rand === 1) {\n      newVal.exp = `${val.exp} = ${val.ans}`;\n      newVal.ans = true;\n    } else {\n      newVal.exp = `${val.exp} = ${val.ans + _getRandomNumber(1, 50)}`;\n      newVal.ans = false;\n    }\n    return newVal;\n  });\n  return questions;\n}\n\n/**\n * generate select questions\n * @param {array} rawExps\n */\nfunction _genSelect(rawExps) {\n  const questions = rawExps.map((val, index) => {\n    const newVal = { index, exp: val.exp, userAns: null, status: null };\n    const rand = _getRandomNumber(0, 2);\n    const selections = [\n      val.ans + _getRandomNumber(1, 50),\n      val.ans + _getRandomNumber(1, 50),\n      val.ans + _getRandomNumber(1, 50),\n    ];\n    selections[rand] = val.ans;\n    newVal.selections = selections;\n    newVal.ans = rand;\n    return newVal;\n  });\n  return questions;\n}\n\n/**\n * generate questions\n */\nfunction genQuestions(rawExps, fillBlank, judge, select) {\n  let fillBlankExps = [];\n  for (let i = 0; i < fillBlank; i++) {\n    fillBlankExps.push(rawExps.shift());\n  }\n  fillBlankExps = _genFillBlank(fillBlankExps);\n  let judgeExps = [];\n  for (let i = fillBlank; i < fillBlank + judge; i++) {\n    judgeExps.push(rawExps.shift());\n  }\n  judgeExps = _genJudge(judgeExps);\n  let selectExps = [];\n  for (let i = fillBlank + judge; i < fillBlank + judge + select; i++) {\n    selectExps.push(rawExps.shift());\n  }\n  selectExps = _genSelect(selectExps);\n  return {\n    fillBlankQuestions: fillBlankExps,\n    judgeQuestions: judgeExps,\n    selectQuestions: selectExps,\n  };\n}\n\nexport default genQuestions;\n","// update all questions\nexport const UPDATE_ALL_QUESTIONS = 'UPDATE_ALL_QUESTIONS';\nexport const actionAllQuestions = (value) => {\n  return {\n    type: UPDATE_ALL_QUESTIONS,\n    value,\n  };\n};\n\n// update fill blank questions\nexport const UPDATE_FILL_BLANK_QUESTIONS = 'UPDATE_FILL_BLANK_QUESTIONS';\nexport const actionFillBlankQuestions = (value) => {\n  return {\n    type: UPDATE_FILL_BLANK_QUESTIONS,\n    value,\n  };\n};\n\n// update judge questions\nexport const UPDATE_JUDGE_QUESTIONS = 'UPDATE_JUDGE_QUESTIONS';\nexport const actionJudgeQuestions = (value) => {\n  return {\n    type: UPDATE_JUDGE_QUESTIONS,\n    value,\n  };\n};\n\n// update select questions\nexport const UPDATE_SELECT_QUESTIONS = 'UPDATE_SELECT_QUESTIONS';\nexport const actionSelectQuestions = (value) => {\n  return {\n    type: UPDATE_SELECT_QUESTIONS,\n    value,\n  };\n};\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n// antd\nimport { Table, Input, Radio } from 'antd';\n// css\nimport './index.scss';\n// exp gens\nimport ExpGen from '../../plugins/ExpGen';\nimport genQuestions from '../../plugins/genQuestions';\n// store\nimport {\n  actionAllQuestions,\n  actionFillBlankQuestions,\n  actionJudgeQuestions,\n  actionSelectQuestions,\n} from './store/actions';\n\n// exp generator\nconst expGen = new ExpGen();\n\nfunction Test() {\n  const dispatch = useDispatch();\n  // get settings data\n  const { fillBlank, judge, select } = useSelector((state) =>\n    state.getIn(['start', 'questionTypes']).toJS()\n  );\n  const questionSettings = useSelector((state) =>\n    state.getIn(['start', 'questionSettings']).toJS()\n  );\n  // get questions\n  const { fillBlankQuestions, judgeQuestions, selectQuestions } = useSelector((state) => {\n    return state.get('test').toJS();\n  });\n\n  const questionsAreEmpty = !(\n    fillBlankQuestions.length > 0 ||\n    judgeQuestions.length > 0 ||\n    selectQuestions.length > 0\n  );\n\n  // update questions when data changed\n  // and if currentQuestions been reset to {}\n  // it will run again to gen new questions\n  useEffect(() => {\n    console.log(questionsAreEmpty);\n    // if question arrays are empty\n    if (questionsAreEmpty) {\n      (async () => {\n        const rawExps = await expGen.getExpressions(fillBlank + judge + select, questionSettings);\n        const questions = genQuestions(rawExps, fillBlank, judge, select);\n        dispatch(actionAllQuestions(questions));\n      })();\n    }\n  }, [dispatch, fillBlank, judge, questionSettings, questionsAreEmpty, select]);\n\n  return (\n    <div className=\"test\">\n      <button\n        onClick={() =>\n          dispatch(\n            actionAllQuestions({ fillBlankQuestions: [], judgeQuestions: [], selectQuestions: [] })\n          )\n        }\n      >\n        测试\n      </button>\n      <Table dataSource={fillBlankQuestions} rowKey={(record) => record.index}>\n        <Table.Column title=\"题目\" dataIndex=\"exp\" key=\"exp\" />\n        <Table.Column\n          title=\"填空\"\n          key=\"userAns\"\n          render={(record) => (\n            <Input\n              value={record.userAns}\n              onChange={(e) => {\n                const value = e.target.value;\n                dispatch(actionFillBlankQuestions({ index: record.index, answer: value }));\n              }}\n            />\n          )}\n        />\n      </Table>\n      <Table dataSource={judgeQuestions} rowKey={(record) => record.index}>\n        <Table.Column title=\"题目\" dataIndex=\"exp\" key=\"exp\" />\n        <Table.Column\n          title=\"判断\"\n          key=\"userAns\"\n          render={(record) => (\n            <Radio.Group\n              optionType=\"button\"\n              options={[\n                { label: '正确', value: true },\n                { label: '错误', value: false },\n              ]}\n              value={record.userAns}\n              onChange={(e) => {\n                const value = e.target.value;\n                dispatch(actionJudgeQuestions({ index: record.index, answer: value }));\n              }}\n            />\n          )}\n        />\n      </Table>\n      <Table dataSource={selectQuestions} rowKey={(record) => record.index}>\n        <Table.Column title=\"题目\" dataIndex=\"exp\" key=\"exp\" />\n        <Table.Column\n          title=\"选择\"\n          key=\"userAns\"\n          render={(record) => (\n            <Radio.Group\n              options={[\n                { label: record.selections[0], value: 0 },\n                { label: record.selections[1], value: 1 },\n                { label: record.selections[2], value: 2 },\n              ]}\n              value={record.userAns}\n              onChange={(e) => {\n                const value = e.target.value;\n                dispatch(actionSelectQuestions({ index: record.index, answer: value }));\n              }}\n            />\n          )}\n        />\n      </Table>\n    </div>\n  );\n}\n\nexport default Test;\n","// deps\nimport React from 'react';\nimport { Switch, Route, Link, useRouteMatch, withRouter, Redirect } from 'react-router-dom';\nimport { Menu } from 'antd';\nimport {\n  SettingOutlined,\n  FormOutlined,\n  HistoryOutlined,\n  InfoCircleOutlined,\n} from '@ant-design/icons';\n// views\nimport Footer from './components/Footer';\nimport Start from './views/Start';\nimport Test from './views/Test';\n\n/**\n * app main page\n */\nconst App = withRouter(({ history }) => {\n  // router match\n  const match = useRouteMatch();\n  // menu items\n  const menuItems = [\n    {\n      key: 'start',\n      icon: <SettingOutlined />,\n      text: '开始',\n    },\n    {\n      key: 'test',\n      icon: <FormOutlined />,\n      text: '测试',\n    },\n    {\n      key: 'history',\n      icon: <HistoryOutlined />,\n      text: '历史记录',\n    },\n    {\n      key: 'about',\n      icon: <InfoCircleOutlined />,\n      text: '关于',\n    },\n  ];\n\n  return (\n    <div className=\"app\">\n      <Menu className=\"app-nav\" mode=\"horizontal\" selectedKeys={[history.location.pathname]}>\n        {menuItems.map((val) => (\n          <Menu.Item key={`${match.url}/${val.key}`}>\n            <Link to={`${match.url}/${val.key}`}>\n              {val.icon}\n              <span>{val.text}</span>\n            </Link>\n          </Menu.Item>\n        ))}\n      </Menu>\n      <div className=\"app-content\">\n        <Switch>\n          <Route path={`${match.path}/start`} component={Start} />\n          <Route path={`${match.path}/test`} component={Test}></Route>\n          <Route path={`${match.path}/history`}>历史记录</Route>\n          <Route path={`${match.path}/about`}>关于</Route>\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n      <Footer divider={true} />\n    </div>\n  );\n});\n\nexport default App;\n","import { fromJS } from 'immutable';\nimport { UPDATE_QUESTION_TYPES, UPDATE_QUESTION_SETTINGSS } from './actions';\n\n// intergated settings\nconst EASY_SETTINGS = fromJS({\n  hhc: 'easy',\n  range: 10,\n  minus: false,\n  bracket: false,\n  dot: false,\n  dotRange: 1,\n});\nconst HARD_SETTINGS = fromJS({\n  hhc: 'hard',\n  range: 100,\n  minus: true,\n  bracket: true,\n  dot: true,\n  dotRange: 2,\n});\n\nconst defaultState = fromJS({\n  questionTypes: {\n    fillBlank: 5, // fill in blanks\n    judge: 5, // judgements\n    select: 5, // selections\n  },\n  questionSettings: EASY_SETTINGS,\n});\n\nconst reducer = (prevState = defaultState, action) => {\n  switch (action.type) {\n    // update question types\n    case UPDATE_QUESTION_TYPES:\n      return prevState.mergeDeep(fromJS({ questionTypes: action.value }));\n    // update question settings\n    case UPDATE_QUESTION_SETTINGSS:\n      if (action.value.hhc === 'easy') {\n        return prevState.mergeDeep(fromJS({ questionSettings: EASY_SETTINGS }));\n      } else if (action.value.hhc === 'hard') {\n        return prevState.mergeDeep(fromJS({ questionSettings: HARD_SETTINGS }));\n      }\n      return prevState.mergeDeep(fromJS({ questionSettings: action.value }));\n    // init\n    default:\n      return prevState;\n  }\n};\n\nexport default reducer;\n","import { fromJS } from 'immutable';\n\nimport {\n  UPDATE_ALL_QUESTIONS,\n  UPDATE_FILL_BLANK_QUESTIONS,\n  UPDATE_JUDGE_QUESTIONS,\n  UPDATE_SELECT_QUESTIONS,\n} from './actions';\n\nconst defaultState = fromJS({\n  fillBlankQuestions: [],\n  judgeQuestions: [],\n  selectQuestions: [],\n});\n\nconst reducer = (prevState = defaultState, action) => {\n  switch (action.type) {\n    // update all questions\n    case UPDATE_ALL_QUESTIONS:\n      return defaultState.mergeDeep(fromJS(action.value));\n    // update fill blank questions { index, answer }\n    case UPDATE_FILL_BLANK_QUESTIONS: {\n      const { index, answer } = action.value;\n      const oldList = prevState.get('fillBlankQuestions');\n      const newList = oldList.set(index, oldList.get(index).set('userAns', answer));\n      return prevState.set('fillBlankQuestions', newList);\n    }\n    // update judge questions { index, answer }\n    case UPDATE_JUDGE_QUESTIONS: {\n      const { index, answer } = action.value;\n      const oldList = prevState.get('judgeQuestions');\n      const newList = oldList.set(index, oldList.get(index).set('userAns', answer));\n      return prevState.set('judgeQuestions', newList);\n    }\n    // update select questions { index, answer }\n    case UPDATE_SELECT_QUESTIONS: {\n      const { index, answer } = action.value;\n      const oldList = prevState.get('selectQuestions');\n      const newList = oldList.set(index, oldList.get(index).set('userAns', answer));\n      return prevState.set('selectQuestions', newList);\n    }\n    // init\n    default:\n      return prevState;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from 'redux-immutable';\n// reducers\nimport { reducer as start } from '../views/Start/store';\nimport { reducer as test } from '../views/Test/store';\n\n// combine reducers\nexport default combineReducers({\n  start,\n  test,\n});\n","import { createStore } from 'redux';\n// preloaded state\nimport reducer from './reducer';\n// apply devtools\nconst enhancer = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\n// create store\nconst store = createStore(reducer, enhancer);\n\nexport default store;\n","// deps\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n// css\nimport 'normalize.css';\nimport './index.scss';\n// antd config provider\nimport { ConfigProvider } from 'antd';\nimport zh_CN from 'antd/es/locale/zh_CN';\n// views\nimport Home from './views/Home';\nimport App from './App';\n// store\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConfigProvider autoInsertSpaceInButton={false} locale={zh_CN}>\n      <Router>\n        <Switch>\n          <Route path=\"/app\" component={App} />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </Router>\n    </ConfigProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}